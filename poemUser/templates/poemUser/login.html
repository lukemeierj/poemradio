<!DOCTYPE html>
<html>
    <head>
         <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        {% load staticfiles %}
        <link rel="stylesheet" type="text/css" href="{% static './poem/style/main.css' %}">
        <title>Log In</title>
    </head>

    <body>
        <h1>Log In</h1>

        {% if user.is_authenticated %}
        <p><strong>You're already logged in as {{ user.username }}.</strong><p>
        <a href="../">Return to the homepage.</a><br />
        <a href="./logout">Log out</a>
        {% else %}

        {% if next %}
        <form id="user_form" method="post" action="./login?next={{next}}"
                enctype="multipart/form-data">
        {%else%}
        <form id="user_form" method="post" action="./login"
                enctype="multipart/form-data">
        {% endif %}
            {% csrf_token %}

            <!-- Display each form. The as_p method wraps each element in a paragraph
                 (<p>) element. This ensures each element appears on a new line,
                 making everything look neater. -->
            {{ form.as_p }}
            {% if invalid %}
            <p>Invalid login credentials</p>
            {% endif %}

            <!-- Provide a button to click to submit the form. -->
            <input type="submit" name="submit" value="Log In" />
        </form>
        {% endif %}
    </body>
</html>